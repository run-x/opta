{"format_version": "0.2", "terraform_version": "1.0.10", "planned_values": {"outputs": {"docker_repo_url": {"sensitive": false, "value": ""}}, "root_module": {"child_modules": [{"resources": [{"address": "module.app.google_service_account.k8s_service", "mode": "managed", "type": "google_service_account", "name": "k8s_service", "provider_name": "registry.terraform.io/hashicorp/google", "schema_version": 0, "values": {"account_id": "http-service-app-qjbp", "description": "", "disabled": false, "display_name": "http-service-app-qjbp", "email": "http-service-app-qjbp@my-gcp-project.iam.gserviceaccount.com", "id": "projects/my-gcp-project/serviceAccounts/http-service-app-qjbp@my-gcp-project.iam.gserviceaccount.com", "name": "projects/my-gcp-project/serviceAccounts/http-service-app-qjbp@my-gcp-project.iam.gserviceaccount.com", "project": "my-gcp-project", "timeouts": null, "unique_id": "117259793965710379656"}, "sensitive_values": {}}, {"address": "module.app.google_service_account_iam_binding.trust_k8s_workload_idu", "mode": "managed", "type": "google_service_account_iam_binding", "name": "trust_k8s_workload_idu", "provider_name": "registry.terraform.io/hashicorp/google", "schema_version": 0, "values": {"condition": [], "etag": "BwXWcDbO+OQ=", "id": "projects/my-gcp-project/serviceAccounts/http-service-app-qjbp@my-gcp-project.iam.gserviceaccount.com/roles/iam.workloadIdentityUser", "members": ["serviceAccount:my-gcp-project.svc.id.goog[http-service/app]"], "role": "roles/iam.workloadIdentityUser", "service_account_id": "projects/my-gcp-project/serviceAccounts/http-service-app-qjbp@my-gcp-project.iam.gserviceaccount.com"}, "sensitive_values": {"condition": [], "members": [false]}}, {"address": "module.app.helm_release.k8s-service", "mode": "managed", "type": "helm_release", "name": "k8s-service", "provider_name": "registry.terraform.io/hashicorp/helm", "schema_version": 0, "values": {"atomic": true, "chart": "../modules/gcp_k8s_service/tf_module/../../opta-k8s-service-helm", "cleanup_on_fail": true, "create_namespace": false, "dependency_update": false, "description": null, "devel": null, "disable_crd_hooks": false, "disable_openapi_validation": false, "disable_webhooks": false, "force_update": false, "id": "http-service-app", "keyring": null, "lint": false, "manifest": null, "max_history": 0, "metadata": [{"app_version": "1.16.0", "chart": "k8s-service", "name": "http-service-app", "namespace": "default", "revision": 9, "values": "{\"autoscaling\":{\"maxReplicas\":\"2\",\"minReplicas\":\"2\",\"targetCPUUtilizationPercentage\":80,\"targetMemoryUtilizationPercentage\":80},\"consistentHash\":null,\"containerResourceLimits\":{\"cpu\":\"200m\",\"memory\":\"256Mi\"},\"containerResourceRequests\":{\"cpu\":\"100m\",\"memory\":\"128Mi\"},\"deployPods\":true,\"deployment_timestamp\":\"2022-02-01T23:24:53Z\",\"envVars\":[{\"name\":\"GUNICORN_CMD_ARGS\",\"value\":\"--bind=0.0.0.0:8000 --workers=3 --capture-output --error-logfile - --access-logfile - --access-logformat '%(h)s %(t)s %(r)s %(s)s Content-Type: %(i)s'\"}],\"environmentName\":\"gcp-live-example\",\"googleServiceAccount\":\"http-service-app-qjbp@my-gcp-project.iam.gserviceaccount.com\",\"httpPort\":{\"name\":\"main\",\"port\":80,\"probeType\":\"http\",\"protocol\":null,\"servicePort\":80,\"tls\":false,\"type\":\"http\"},\"image\":\"kennethreitz/httpbin\",\"ingressExtraAnnotations\":{},\"initialLivenessDelay\":30,\"initialReadinessDelay\":30,\"keepPathPrefix\":false,\"layerName\":\"http-service\",\"linkSecrets\":[],\"livenessProbePath\":\"/get\",\"moduleName\":\"app\",\"persistentStorage\":[],\"ports\":[{\"name\":\"main\",\"port\":80,\"probeType\":\"http\",\"protocol\":null,\"servicePort\":80,\"tls\":false,\"type\":\"http\"}],\"probePort\":{\"name\":\"main\",\"port\":80,\"probeType\":\"http\",\"protocol\":null,\"servicePort\":80,\"tls\":false,\"type\":\"http\"},\"readinessProbePath\":\"/get\",\"serviceAnnotations\":{},\"stickySession\":true,\"stickySessionMaxAge\":20,\"uriComponents\":[{\"domain\":\"gcp-example.runx.dev\",\"pathPrefix\":\"/hello\",\"pathPrefixName\":\"hello\"}],\"version\":\"latest\"}", "version": "0.1.0"}], "name": "http-service-app", "namespace": "default", "postrender": [], "recreate_pods": false, "render_subchart_notes": true, "replace": false, "repository": null, "repository_ca_file": null, "repository_cert_file": null, "repository_key_file": null, "repository_password": null, "repository_username": null, "reset_values": false, "reuse_values": false, "set": [], "set_sensitive": [], "skip_crds": false, "status": "deployed", "timeout": 300, "verify": false, "version": "0.1.0", "wait": true, "wait_for_jobs": false}, "sensitive_values": {"metadata": [{}], "postrender": [], "set": [], "set_sensitive": [], "values": []}}, {"address": "module.app.random_string.suffix", "mode": "managed", "type": "random_string", "name": "suffix", "provider_name": "registry.terraform.io/hashicorp/random", "schema_version": 1, "values": {"id": "qjbp", "keepers": null, "length": 4, "lower": true, "min_lower": 0, "min_numeric": 0, "min_special": 0, "min_upper": 0, "number": true, "override_special": null, "result": "qjbp", "special": false, "upper": false}, "sensitive_values": {}}], "address": "module.app"}]}}, "resource_changes": [{"address": "module.app.google_service_account.k8s_service", "module_address": "module.app", "mode": "managed", "type": "google_service_account", "name": "k8s_service", "provider_name": "registry.terraform.io/hashicorp/google", "change": {"actions": ["no-op"], "before": {"account_id": "http-service-app-qjbp", "description": "", "disabled": false, "display_name": "http-service-app-qjbp", "email": "http-service-app-qjbp@my-gcp-project.iam.gserviceaccount.com", "id": "projects/my-gcp-project/serviceAccounts/http-service-app-qjbp@my-gcp-project.iam.gserviceaccount.com", "name": "projects/my-gcp-project/serviceAccounts/http-service-app-qjbp@my-gcp-project.iam.gserviceaccount.com", "project": "my-gcp-project", "timeouts": null, "unique_id": "117259793965710379656"}, "after": {"account_id": "http-service-app-qjbp", "description": "", "disabled": false, "display_name": "http-service-app-qjbp", "email": "http-service-app-qjbp@my-gcp-project.iam.gserviceaccount.com", "id": "projects/my-gcp-project/serviceAccounts/http-service-app-qjbp@my-gcp-project.iam.gserviceaccount.com", "name": "projects/my-gcp-project/serviceAccounts/http-service-app-qjbp@my-gcp-project.iam.gserviceaccount.com", "project": "my-gcp-project", "timeouts": null, "unique_id": "117259793965710379656"}, "after_unknown": {}, "before_sensitive": {}, "after_sensitive": {}}}, {"address": "module.app.google_service_account_iam_binding.trust_k8s_workload_idu", "module_address": "module.app", "mode": "managed", "type": "google_service_account_iam_binding", "name": "trust_k8s_workload_idu", "provider_name": "registry.terraform.io/hashicorp/google", "change": {"actions": ["no-op"], "before": {"condition": [], "etag": "BwXWcDbO+OQ=", "id": "projects/my-gcp-project/serviceAccounts/http-service-app-qjbp@my-gcp-project.iam.gserviceaccount.com/roles/iam.workloadIdentityUser", "members": ["serviceAccount:my-gcp-project.svc.id.goog[http-service/app]"], "role": "roles/iam.workloadIdentityUser", "service_account_id": "projects/my-gcp-project/serviceAccounts/http-service-app-qjbp@my-gcp-project.iam.gserviceaccount.com"}, "after": {"condition": [], "etag": "BwXWcDbO+OQ=", "id": "projects/my-gcp-project/serviceAccounts/http-service-app-qjbp@my-gcp-project.iam.gserviceaccount.com/roles/iam.workloadIdentityUser", "members": ["serviceAccount:my-gcp-project.svc.id.goog[http-service/app]"], "role": "roles/iam.workloadIdentityUser", "service_account_id": "projects/my-gcp-project/serviceAccounts/http-service-app-qjbp@my-gcp-project.iam.gserviceaccount.com"}, "after_unknown": {}, "before_sensitive": {"condition": [], "members": [false]}, "after_sensitive": {"condition": [], "members": [false]}}}, {"address": "module.app.helm_release.k8s-service", "module_address": "module.app", "mode": "managed", "type": "helm_release", "name": "k8s-service", "provider_name": "registry.terraform.io/hashicorp/helm", "change": {"actions": ["update"], "before": {"atomic": true, "chart": "../modules/gcp_k8s_service/tf_module/../../opta-k8s-service-helm", "cleanup_on_fail": true, "create_namespace": false, "dependency_update": false, "description": null, "devel": null, "disable_crd_hooks": false, "disable_openapi_validation": false, "disable_webhooks": false, "force_update": false, "id": "http-service-app", "keyring": null, "lint": false, "manifest": null, "max_history": 0, "metadata": [{"app_version": "1.16.0", "chart": "k8s-service", "name": "http-service-app", "namespace": "default", "revision": 9, "values": "{\"autoscaling\":{\"maxReplicas\":\"2\",\"minReplicas\":\"2\",\"targetCPUUtilizationPercentage\":80,\"targetMemoryUtilizationPercentage\":80},\"consistentHash\":null,\"containerResourceLimits\":{\"cpu\":\"200m\",\"memory\":\"256Mi\"},\"containerResourceRequests\":{\"cpu\":\"100m\",\"memory\":\"128Mi\"},\"deployPods\":true,\"deployment_timestamp\":\"2022-02-01T23:24:53Z\",\"envVars\":[{\"name\":\"GUNICORN_CMD_ARGS\",\"value\":\"--bind=0.0.0.0:8000 --workers=3 --capture-output --error-logfile - --access-logfile - --access-logformat '%(h)s %(t)s %(r)s %(s)s Content-Type: %(i)s'\"}],\"environmentName\":\"gcp-live-example\",\"googleServiceAccount\":\"http-service-app-qjbp@my-gcp-project.iam.gserviceaccount.com\",\"httpPort\":{\"name\":\"main\",\"port\":80,\"probeType\":\"http\",\"protocol\":null,\"servicePort\":80,\"tls\":false,\"type\":\"http\"},\"image\":\"kennethreitz/httpbin\",\"ingressExtraAnnotations\":{},\"initialLivenessDelay\":30,\"initialReadinessDelay\":30,\"keepPathPrefix\":false,\"layerName\":\"http-service\",\"linkSecrets\":[],\"livenessProbePath\":\"/get\",\"moduleName\":\"app\",\"persistentStorage\":[],\"ports\":[{\"name\":\"main\",\"port\":80,\"probeType\":\"http\",\"protocol\":null,\"servicePort\":80,\"tls\":false,\"type\":\"http\"}],\"probePort\":{\"name\":\"main\",\"port\":80,\"probeType\":\"http\",\"protocol\":null,\"servicePort\":80,\"tls\":false,\"type\":\"http\"},\"readinessProbePath\":\"/get\",\"serviceAnnotations\":{},\"stickySession\":true,\"stickySessionMaxAge\":20,\"uriComponents\":[{\"domain\":\"gcp-example.runx.dev\",\"pathPrefix\":\"/hello\",\"pathPrefixName\":\"hello\"}],\"version\":\"latest\"}", "version": "0.1.0"}], "name": "http-service-app", "namespace": "default", "postrender": [], "recreate_pods": false, "render_subchart_notes": true, "replace": false, "repository": null, "repository_ca_file": null, "repository_cert_file": null, "repository_key_file": null, "repository_password": null, "repository_username": null, "reset_values": false, "reuse_values": false, "set": [], "set_sensitive": [], "skip_crds": false, "status": "deployed", "timeout": 300, "values": ["\"autoscaling\":\n  \"maxReplicas\": \"2\"\n  \"minReplicas\": \"2\"\n  \"targetCPUUtilizationPercentage\": 80\n  \"targetMemoryUtilizationPercentage\": 80\n\"consistentHash\": null\n\"containerResourceLimits\":\n  \"cpu\": \"200m\"\n  \"memory\": \"256Mi\"\n\"containerResourceRequests\":\n  \"cpu\": \"100m\"\n  \"memory\": \"128Mi\"\n\"deployPods\": true\n\"deployment_timestamp\": \"2022-02-01T23:24:53Z\"\n\"envVars\":\n- \"name\": \"GUNICORN_CMD_ARGS\"\n  \"value\": \"--bind=0.0.0.0:8000 --workers=3 --capture-output --error-logfile - --access-logfile\n    - --access-logformat '%(h)s %(t)s %(r)s %(s)s Content-Type: %(i)s'\"\n\"environmentName\": \"gcp-live-example\"\n\"googleServiceAccount\": \"http-service-app-qjbp@my-gcp-project.iam.gserviceaccount.com\"\n\"httpPort\":\n  \"name\": \"main\"\n  \"port\": 80\n  \"probeType\": \"http\"\n  \"protocol\": null\n  \"servicePort\": 80\n  \"tls\": false\n  \"type\": \"http\"\n\"image\": \"kennethreitz/httpbin\"\n\"ingressExtraAnnotations\": {}\n\"initialLivenessDelay\": 30\n\"initialReadinessDelay\": 30\n\"keepPathPrefix\": false\n\"layerName\": \"http-service\"\n\"linkSecrets\": []\n\"livenessProbePath\": \"/get\"\n\"moduleName\": \"app\"\n\"persistentStorage\": []\n\"ports\":\n- \"name\": \"main\"\n  \"port\": 80\n  \"probeType\": \"http\"\n  \"protocol\": null\n  \"servicePort\": 80\n  \"tls\": false\n  \"type\": \"http\"\n\"probePort\":\n  \"name\": \"main\"\n  \"port\": 80\n  \"probeType\": \"http\"\n  \"protocol\": null\n  \"servicePort\": 80\n  \"tls\": false\n  \"type\": \"http\"\n\"readinessProbePath\": \"/get\"\n\"serviceAnnotations\": {}\n\"stickySession\": true\n\"stickySessionMaxAge\": 20\n\"uriComponents\":\n- \"domain\": \"gcp-example.runx.dev\"\n  \"pathPrefix\": \"/hello\"\n  \"pathPrefixName\": \"hello\"\n\"version\": \"latest\"\n"], "verify": false, "version": "0.1.0", "wait": true, "wait_for_jobs": false}, "after": {"atomic": true, "chart": "../modules/gcp_k8s_service/tf_module/../../opta-k8s-service-helm", "cleanup_on_fail": true, "create_namespace": false, "dependency_update": false, "description": null, "devel": null, "disable_crd_hooks": false, "disable_openapi_validation": false, "disable_webhooks": false, "force_update": false, "id": "http-service-app", "keyring": null, "lint": false, "manifest": null, "max_history": 0, "metadata": [{"app_version": "1.16.0", "chart": "k8s-service", "name": "http-service-app", "namespace": "default", "revision": 9, "values": "{\"autoscaling\":{\"maxReplicas\":\"2\",\"minReplicas\":\"2\",\"targetCPUUtilizationPercentage\":80,\"targetMemoryUtilizationPercentage\":80},\"consistentHash\":null,\"containerResourceLimits\":{\"cpu\":\"200m\",\"memory\":\"256Mi\"},\"containerResourceRequests\":{\"cpu\":\"100m\",\"memory\":\"128Mi\"},\"deployPods\":true,\"deployment_timestamp\":\"2022-02-01T23:24:53Z\",\"envVars\":[{\"name\":\"GUNICORN_CMD_ARGS\",\"value\":\"--bind=0.0.0.0:8000 --workers=3 --capture-output --error-logfile - --access-logfile - --access-logformat '%(h)s %(t)s %(r)s %(s)s Content-Type: %(i)s'\"}],\"environmentName\":\"gcp-live-example\",\"googleServiceAccount\":\"http-service-app-qjbp@my-gcp-project.iam.gserviceaccount.com\",\"httpPort\":{\"name\":\"main\",\"port\":80,\"probeType\":\"http\",\"protocol\":null,\"servicePort\":80,\"tls\":false,\"type\":\"http\"},\"image\":\"kennethreitz/httpbin\",\"ingressExtraAnnotations\":{},\"initialLivenessDelay\":30,\"initialReadinessDelay\":30,\"keepPathPrefix\":false,\"layerName\":\"http-service\",\"linkSecrets\":[],\"livenessProbePath\":\"/get\",\"moduleName\":\"app\",\"persistentStorage\":[],\"ports\":[{\"name\":\"main\",\"port\":80,\"probeType\":\"http\",\"protocol\":null,\"servicePort\":80,\"tls\":false,\"type\":\"http\"}],\"probePort\":{\"name\":\"main\",\"port\":80,\"probeType\":\"http\",\"protocol\":null,\"servicePort\":80,\"tls\":false,\"type\":\"http\"},\"readinessProbePath\":\"/get\",\"serviceAnnotations\":{},\"stickySession\":true,\"stickySessionMaxAge\":20,\"uriComponents\":[{\"domain\":\"gcp-example.runx.dev\",\"pathPrefix\":\"/hello\",\"pathPrefixName\":\"hello\"}],\"version\":\"latest\"}", "version": "0.1.0"}], "name": "http-service-app", "namespace": "default", "postrender": [], "recreate_pods": false, "render_subchart_notes": true, "replace": false, "repository": null, "repository_ca_file": null, "repository_cert_file": null, "repository_key_file": null, "repository_password": null, "repository_username": null, "reset_values": false, "reuse_values": false, "set": [], "set_sensitive": [], "skip_crds": false, "status": "deployed", "timeout": 300, "verify": false, "version": "0.1.0", "wait": true, "wait_for_jobs": false}, "after_unknown": {"metadata": [{}], "postrender": [], "set": [], "set_sensitive": [], "values": true}, "before_sensitive": {"metadata": [{}], "postrender": [], "repository_password": true, "set": [], "set_sensitive": [], "values": [false]}, "after_sensitive": {"metadata": [{}], "postrender": [], "repository_password": true, "set": [], "set_sensitive": [], "values": []}}}, {"address": "module.app.random_string.suffix", "module_address": "module.app", "mode": "managed", "type": "random_string", "name": "suffix", "provider_name": "registry.terraform.io/hashicorp/random", "change": {"actions": ["no-op"], "before": {"id": "qjbp", "keepers": null, "length": 4, "lower": true, "min_lower": 0, "min_numeric": 0, "min_special": 0, "min_upper": 0, "number": true, "override_special": null, "result": "qjbp", "special": false, "upper": false}, "after": {"id": "qjbp", "keepers": null, "length": 4, "lower": true, "min_lower": 0, "min_numeric": 0, "min_special": 0, "min_upper": 0, "number": true, "override_special": null, "result": "qjbp", "special": false, "upper": false}, "after_unknown": {}, "before_sensitive": {}, "after_sensitive": {}}}], "output_changes": {"docker_repo_url": {"actions": ["no-op"], "before": "", "after": "", "after_unknown": false, "before_sensitive": false, "after_sensitive": false}}, "prior_state": {"format_version": "0.2", "terraform_version": "1.0.10", "values": {"outputs": {"docker_repo_url": {"sensitive": false, "value": ""}}, "root_module": {"resources": [{"address": "data.google_container_cluster.k8s", "mode": "data", "type": "google_container_cluster", "name": "k8s", "provider_name": "registry.terraform.io/hashicorp/google", "schema_version": 0, "values": {"addons_config": [{"cloudrun_config": [], "horizontal_pod_autoscaling": [], "http_load_balancing": [], "network_policy_config": [{"disabled": false}]}], "authenticator_groups_config": [], "cluster_autoscaling": [{"auto_provisioning_defaults": [], "enabled": false, "resource_limits": []}], "cluster_ipv4_cidr": "10.0.32.0/19", "confidential_nodes": [], "database_encryption": [{"key_name": "projects/my-gcp-project/locations/us-central1/keyRings/opta-gcp-live-example-e71b9f27253ae2db/cryptoKeys/opta-gcp-live-example-e71b9f27253ae2db", "state": "ENCRYPTED"}], "datapath_provider": "", "default_max_pods_per_node": 110, "default_snat_status": [{"disabled": false}], "description": "", "enable_autopilot": false, "enable_binary_authorization": false, "enable_intranode_visibility": false, "enable_kubernetes_alpha": false, "enable_legacy_abac": false, "enable_shielded_nodes": true, "enable_tpu": false, "endpoint": "35.224.63.205", "id": "projects/my-gcp-project/locations/us-central1/clusters/opta-gcp-live-example", "initial_node_count": 1, "ip_allocation_policy": [{"cluster_ipv4_cidr_block": "10.0.32.0/19", "cluster_secondary_range_name": "gke-pods", "services_ipv4_cidr_block": "10.0.64.0/20", "services_secondary_range_name": "gke-services"}], "label_fingerprint": "a9dc16a7", "location": "us-central1", "logging_config": [{"enable_components": ["SYSTEM_COMPONENTS", "WORKLOADS"]}], "logging_service": "logging.googleapis.com/kubernetes", "maintenance_policy": [], "master_auth": [{"client_certificate": "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURJRENDQWdpZ0F3SUJBZ0lRV0FWSFVyWmdycVVsMS9BT0NtY01yakFOQmdrcWhraUc5dzBCQVFzRkFEQXYKTVMwd0t3WURWUVFERXlRNU1HTmhNVEE0T1MweVltUmxMVFJrTWpVdE9XRTBaaTAyWlRZeU9XSXhNemN5WXpBdwpIaGNOTWpFd09EQTFNVGMxTXpFMldoY05Nall3T0RBME1UYzFNekUyV2pBUk1ROHdEUVlEVlFRREV3WmpiR2xsCmJuUXdnZ0VpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElCRHdBd2dnRUtBb0lCQVFDYVd4SXJTazBrRlJiYmhBb2cKelNrRTZkVFdRWllic2JDbHpGT2NDcEZsbGVWK3BxdlliWjBTUVdta1JmUHVqMEZIS3oyeGhiRkRrbSsrKzA3NgpMUzN5cGF3OVpsSWtYWG1HTVk0cVI1OEFhaStsTE43bE55eXE5Z2VCckxUVW9iY3NjMVN2NVF6VDUxMjVUUW11Ci9vSjdDSWo4RFNFOVBwN2gvU29OUGc4cjVPckxubVdRaVlqUkNqUUdZNVViOUNjVGpGRWUwUHF0N29RZjRpQ0UKK1lyQjhFV3prUTF1Nmp3cFBINnpKU2FzUHlCUXZvS0taUTVrZzk3TXJ0UVB3cnozdmh1amZNM3djeHcvMzJ6VApxRk5yemk2Uk1kUnlhTTNlTUdHZjR1dndxODJkT3BrNk1iRlg1NzdZWFZ2MGl4dng2VVdlaXJpak0yNXV6TmluCjliL2RBZ01CQUFHalZqQlVNQTRHQTFVZER3RUIvd1FFQXdJRm9EQVRCZ05WSFNVRUREQUtCZ2dyQmdFRkJRY0QKQWpBTUJnTlZIUk1CQWY4RUFqQUFNQjhHQTFVZEl3UVlNQmFBRkNLUVZmRjNoak1QR2lwelNsTGl3ZUNIMmpHMgpNQTBHQ1NxR1NJYjNEUUVCQ3dVQUE0SUJBUUJOMWtTVUwyVktYbFl5WUxxc3dXUzdFRUZORkphSkhuRU8yYXFVCnVnL1QzTm9hV3NBcS81V2ZZQjNvQy9RNythNThyVzQxMldqdHcrN0Z3WEtjNXNXUTl6cmtMTUtJR0k5a1A3MkIKU1crNUs5WU45SDd3VmZoSVJoLzlydjBuLzlHeTR3R1RIRW1kYWpTNU56WVRjUFdlaVlkUlJ4UWN3RkNNeUxFdQpHd05SVEVBcmJzRVRwNFVUY2hVTWlhWUkrTTFVVFJQVDl4eGZPMVBEb3FleTd6UW4rdVdMV1FPYW5jS1VOVEVZCjV3UCtjaVBNWjljWnpCalZ2OUpqYllGRlhiL0srUE5BaFJvSnBzaUZWRncrTXhjTUdrdS9KYzBTQ3pxU0Y0SEcKNEtsODlkTTF0VUFmVFc5aEplWGpvZXgxV29mQU5iVGR4Z29nR2dSaTdWZU1PQXVuCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K", "client_certificate_config": [{"issue_client_certificate": true}], "client_key": "LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFcEFJQkFBS0NBUUVBbWxzU0swcE5KQlVXMjRRS0lNMHBCT25VMWtHV0c3R3dwY3hUbkFxUlpaWGxmcWFyCjJHMmRFa0ZwcEVYejdvOUJSeXM5c1lXeFE1SnZ2dnRPK2kwdDhxV3NQV1pTSkYxNWhqR09La2VmQUdvdnBTemUKNVRjc3F2WUhnYXkwMUtHM0xITlVyK1VNMCtkZHVVMEpydjZDZXdpSS9BMGhQVDZlNGYwcURUNFBLK1RxeTU1bAprSW1JMFFvMEJtT1ZHL1FuRTR4Ukh0RDZyZTZFSCtJZ2hQbUt3ZkJGczVFTmJ1bzhLVHgrc3lVbXJEOGdVTDZDCmltVU9aSVBleks3VUQ4Szg5NzRibzN6TjhITWNQOTlzMDZoVGE4NHVrVEhVY21qTjNqQmhuK0xyOEt2Tm5UcVoKT2pHeFYrZSsyRjFiOUlzYjhlbEZub3E0b3pOdWJzellwL1cvM1FJREFRQUJBb0lCQUR0VlZwNmRhUm05b1pPdwpKZFNHQ0lhQysvV0FNSnRrcW1xUktIS0svV2ozUGNoNWVRVXczWGZ1L1JUUWJ2djh4VEwrUkREQkcyckdGMzVxClMrbVBCR0tKbkxQZGFTWGhhSjFVM3prUlh1Vmg2LzZxU09RRFdZQStJcFNPTnRTbGRTdjVDVXl6MTBKOVpXR2QKWTJPSkljNzVjTzZ5ZlZ4MWZjMlE2MkU3d2NrMUZOTzNjUzJLNDdGZ1ZlSHV3Uy9aanpLN0FvRTludG5iMGJJWAp0MWFSTnV4eTkrSzJTUGRXc05TQmRja0RJRlhlVWpXOTFlaXhPMGJWVXlJRkRvVk9neFZzLy9uWDI4amlINW9nCjQyRTc2R0dhelE0MWVmdFREbkRWdFZUMjQxVCtjbWZsTC9QV0Z5c1d1TzhZRTljV09DNVpyaUxSMkpZUHhSTWwKdzlBTzVtRUNnWUVBeWhwVXhsNlZQMStZQ1p2QlJMMXV0dEI1WWJPay9iREU0ZlRkMTMrQVRZK3V5Y2s0bVRuRApXQUFQNUgwbGVyZlYyd0JxOWVDVzhqRzU2UkZTTkQwRlI0WGo3M0N2YXBrL1ZNRytZbjhpZG16NDZTeEt4NkhiCkJoZURJeTR3VmF5YmoxRkw1VUs3T1BZR1Z3cFBIYVlxckhSNlFIbkpMTkw4WGVnc2xRaXFaN01DZ1lFQXc0VUUKOVdZdm5zS2VqNFo0cUt1a2xaMUtLYjduc3U4U1EvZTBjRGtzQ0o4c09NbnRXYVhwbDdYZnJHVmlnM1dhaVAzawpZWmR3NTY1RldNR3pjVXhPcGhuTzVpSWpiRWFPMDFHUzlmd1VtaDFKWC9leVhsaVhiOFpQTkJlcEVvY0ljZStxCmYxdWpqdzFGN1dWV0tRUGprcVVCZUNHVjcrT2tJYVpOYnpnRmNpOENnWUVBdDIvRzJuWW15T3FmT0xsaVpsMzYKQzN5VmI1UjZnTGpkT3FuaVlTS2M5Y2tnUUk2ZkRKUmROWlo0MWs2d29mNFI0VUV6MUJBUmNhcW9yMTdGV2h5NAptZjV3c0hkN0FDb3dUV0c4eC9IVStlQlczRzBUUXJjcDhSR09PWFJHOHJ4RVJZVG9laUpqaElQcHBUNzZLRk1XCkVJbDRIT1Z0TDM0aENhc2VLL2M5ay9rQ2dZQlVLRUJ2SkhIZzR5Sis0c0d5MEZiQ2MzYUZxMzl0dkl2Zko1TEsKTDBHdDRGMlhnQXNpNkZBNGxmZFY3RG5RSGVITGo0VXJJSlZmazlxVGpxU2ZZdG9Ea3Q1RW5uTWkydWdGTzNxSApXTjdCUzFQVzgvWVp1QVpPL1V3QVB5THVMNk5KNzRBeTI0MzJPQjllUkowbWdGOEhNdkVEOVdqbFhkVzdDaXNRCmNVdWV6d0tCZ1FDSTExRWZXRHdoS1RoSkY4U0ozWlRPV1c2SFREM2hGNENUek80U0hpRzE2dW1XS3RQalpGNXAKVzNoT3d4TnNuYWtaVWxSdHVRNzlTYXUrWEtxS01PYkYvRkpkcStVekY0VytjemNWTUhhZGVITVpUOHZ2b2x6TwpIaFVvY2w3VDhhV2M3VFJiaUtHY0xCeVpwZ2hTSXVDbWp6ZDh0c3dIV2szcElzR0ltZ28vRXc9PQotLS0tLUVORCBSU0EgUFJJVkFURSBLRVktLS0tLQo=", "cluster_ca_certificate": "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURLakNDQWhLZ0F3SUJBZ0lRVGNZMDYzVEQxVFZTMWZ2UGc4Z3UzVEFOQmdrcWhraUc5dzBCQVFzRkFEQXYKTVMwd0t3WURWUVFERXlRNU1HTmhNVEE0T1MweVltUmxMVFJrTWpVdE9XRTBaaTAyWlRZeU9XSXhNemN5WXpBdwpIaGNOTWpFd09EQTFNVFkxTXpFMldoY05Nall3T0RBME1UYzFNekUyV2pBdk1TMHdLd1lEVlFRREV5UTVNR05oCk1UQTRPUzB5WW1SbExUUmtNalV0T1dFMFppMDJaVFl5T1dJeE16Y3lZekF3Z2dFaU1BMEdDU3FHU0liM0RRRUIKQVFVQUE0SUJEd0F3Z2dFS0FvSUJBUUNUYXRReGt1WC9sbnVqNzIzb1JSbVBJZExGcXR0dHc3L3JOK2FNQXdoRQo2RUdiVDJiMGJBS3VxbVE5ajRoaWprVWZHRlA4a09FajlQSlpQeDhkQWFlRGlTbkVUaE82dVZuZUpKZnY4c1diCmVmYnJ2djRnYjJYaGxUMmhjdFFmaUluWVRwM2llcXZTbWxweEZhTUQ5SktVektVN3NGSS9tUXkwcnEyT3NzZUsKNE9jYWh0ajZXRkNPMldIUUZCOStaZVFuckRFcmVxOUV3aU5ab1g4eUZHVWV6NzdDSmJWbWpCaVdxN3E1OFYvUwpvMUFQV0phT2FacTQ0Q1YzMTN5MDNMb2JIc1gzcXFzS2RwMHRucDdwd21KcENBeUVyS2F2N21ySHVwZW9yOWdQClZKS09IRkg4VWtwMjc4dlJ4K2VWWDcwUkZ1T2M5eVJsYy9qSzFtZmdYVmFIQWdNQkFBR2pRakJBTUE0R0ExVWQKRHdFQi93UUVBd0lDQkRBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUIwR0ExVWREZ1FXQkJRaWtGWHhkNFl6RHhvcQpjMHBTNHNIZ2g5b3h0akFOQmdrcWhraUc5dzBCQVFzRkFBT0NBUUVBS0NFbEg3UEp3ayt3M1RKOWpCNlZqVWYyClBiSWhXS25WVUkrMnB5MFhyVkxCM0QrUk8yS25hLzVVWUduZFBucHNRb1ZrVVpJOWRlTUprK3oyRmQrdjZYOTIKcWI1MUJxVnNuZXROdkdRYlQ5WVE5Z2gvYTFjcXF6dWN1VE9ydnpoRnpFcW95ZkViV2Y1eEliTTAvYXpEUjVtSQo4dGFyYkhsM1VvUXpzVUk3dXA0bGt0NEowYjVieXVjNWdCMTA3RlA5NGlEeW9Qa2dMSFFTN28wRUhCQzA1VnJBCmFvQVQwR2s2dERTV05pSVc0eDkzSEtMTG9MSDBCaVFqclZSdDNVbEQwQVloelU2b0ZnZXlBWEtWMmNCdjBOWm8KT0EvZVhoaDk0MmZaaEhSbnp2S3FqWUtYMjFuQmtXVEc2aXIrM0VxUzBTQ2c3dHNjSU9QdFAzRGhJTHZXdmc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="}], "master_authorized_networks_config": [], "master_version": "1.20.10-gke.1600", "min_master_version": null, "monitoring_config": [{"enable_components": ["SYSTEM_COMPONENTS"]}], "monitoring_service": "monitoring.googleapis.com/kubernetes", "name": "opta-gcp-live-example", "network": "projects/my-gcp-project/global/networks/opta-gcp-live-example", "network_policy": [{"enabled": true, "provider": "CALICO"}], "networking_mode": "VPC_NATIVE", "node_config": [{"disk_size_gb": 20, "disk_type": "pd-standard", "gcfs_config": [], "guest_accelerator": [], "image_type": "COS_CONTAINERD", "labels": {"node_pool_name": "opta-gcp-live-example-default"}, "local_ssd_count": 0, "machine_type": "n2-highcpu-4", "metadata": {"disable-legacy-endpoints": "true"}, "min_cpu_platform": "", "node_group": "", "oauth_scopes": ["https://www.googleapis.com/auth/cloud-platform"], "preemptible": false, "service_account": "opta-gcp-live-example-u31d@my-gcp-project.iam.gserviceaccount.com", "shielded_instance_config": [{"enable_integrity_monitoring": true, "enable_secure_boot": false}], "tags": ["opta-gcp-live-example-nodes"], "taint": [], "workload_metadata_config": [{"mode": "GKE_METADATA"}]}], "node_locations": ["us-central1-a", "us-central1-b", "us-central1-c"], "node_pool": [{"autoscaling": [{"max_node_count": 6, "min_node_count": 1}], "initial_node_count": 1, "instance_group_urls": ["https://www.googleapis.com/compute/v1/projects/my-gcp-project/zones/us-central1-a/instanceGroupManagers/gke-opta-gcp-live-ex-opta-gcp-live-ex-b8d3db19-grp", "https://www.googleapis.com/compute/v1/projects/my-gcp-project/zones/us-central1-b/instanceGroupManagers/gke-opta-gcp-live-ex-opta-gcp-live-ex-272be5ea-grp", "https://www.googleapis.com/compute/v1/projects/my-gcp-project/zones/us-central1-c/instanceGroupManagers/gke-opta-gcp-live-ex-opta-gcp-live-ex-1fd50c56-grp"], "managed_instance_group_urls": ["https://www.googleapis.com/compute/v1/projects/my-gcp-project/zones/us-central1-a/instanceGroups/gke-opta-gcp-live-ex-opta-gcp-live-ex-b8d3db19-grp", "https://www.googleapis.com/compute/v1/projects/my-gcp-project/zones/us-central1-b/instanceGroups/gke-opta-gcp-live-ex-opta-gcp-live-ex-272be5ea-grp", "https://www.googleapis.com/compute/v1/projects/my-gcp-project/zones/us-central1-c/instanceGroups/gke-opta-gcp-live-ex-opta-gcp-live-ex-1fd50c56-grp"], "management": [{"auto_repair": true, "auto_upgrade": true}], "max_pods_per_node": 110, "name": "opta-gcp-live-example-default", "name_prefix": "", "node_config": [{"disk_size_gb": 20, "disk_type": "pd-standard", "gcfs_config": [], "guest_accelerator": [], "image_type": "COS_CONTAINERD", "labels": {"node_pool_name": "opta-gcp-live-example-default"}, "local_ssd_count": 0, "machine_type": "n2-highcpu-4", "metadata": {"disable-legacy-endpoints": "true"}, "min_cpu_platform": "", "node_group": "", "oauth_scopes": ["https://www.googleapis.com/auth/cloud-platform"], "preemptible": false, "service_account": "opta-gcp-live-example-u31d@my-gcp-project.iam.gserviceaccount.com", "shielded_instance_config": [{"enable_integrity_monitoring": true, "enable_secure_boot": false}], "tags": ["opta-gcp-live-example-nodes"], "taint": [], "workload_metadata_config": [{"mode": "GKE_METADATA"}]}], "node_count": 1, "node_locations": ["us-central1-a", "us-central1-b", "us-central1-c"], "upgrade_settings": [{"max_surge": 1, "max_unavailable": 0}], "version": "1.20.10-gke.1600"}], "node_version": "1.20.10-gke.1600", "operation": null, "private_cluster_config": [{"enable_private_endpoint": false, "enable_private_nodes": true, "master_global_access_config": [{"enabled": false}], "master_ipv4_cidr_block": "10.0.80.0/28", "peering_name": "gke-nf3845e5bbc99b8d0405-ae5b-ecf5-peer", "private_endpoint": "10.0.80.2", "public_endpoint": "35.224.63.205"}], "private_ipv6_google_access": "", "project": "my-gcp-project", "release_channel": [{"channel": "REGULAR"}], "remove_default_node_pool": null, "resource_labels": {}, "resource_usage_export_config": [], "self_link": "https://container.googleapis.com/v1/projects/my-gcp-project/locations/us-central1/clusters/opta-gcp-live-example", "services_ipv4_cidr": "10.0.64.0/20", "subnetwork": "projects/my-gcp-project/regions/us-central1/subnetworks/opta-gcp-live-example-us-central1-private", "tpu_ipv4_cidr_block": "", "vertical_pod_autoscaling": [], "workload_identity_config": [{"workload_pool": "my-gcp-project.svc.id.goog"}]}, "sensitive_values": {"addons_config": [{"cloudrun_config": [], "horizontal_pod_autoscaling": [], "http_load_balancing": [], "network_policy_config": [{}]}], "authenticator_groups_config": [], "cluster_autoscaling": [{"auto_provisioning_defaults": [], "resource_limits": []}], "confidential_nodes": [], "database_encryption": [{}], "default_snat_status": [{}], "ip_allocation_policy": [{}], "logging_config": [{"enable_components": [false, false]}], "maintenance_policy": [], "master_auth": [{"client_certificate_config": [{}]}], "master_authorized_networks_config": [], "monitoring_config": [{"enable_components": [false]}], "network_policy": [{}], "node_config": [{"gcfs_config": [], "guest_accelerator": [], "labels": {}, "metadata": {}, "oauth_scopes": [false], "shielded_instance_config": [{}], "tags": [false], "taint": [], "workload_metadata_config": [{}]}], "node_locations": [false, false, false], "node_pool": [{"autoscaling": [{}], "instance_group_urls": [false, false, false], "managed_instance_group_urls": [false, false, false], "management": [{}], "node_config": [{"gcfs_config": [], "guest_accelerator": [], "labels": {}, "metadata": {}, "oauth_scopes": [false], "shielded_instance_config": [{}], "tags": [false], "taint": [], "workload_metadata_config": [{}]}], "node_locations": [false, false, false], "upgrade_settings": [{}]}], "private_cluster_config": [{"master_global_access_config": [{}]}], "release_channel": [{}], "resource_labels": {}, "resource_usage_export_config": [], "vertical_pod_autoscaling": [], "workload_identity_config": [{}]}}, {"address": "data.terraform_remote_state.parent", "mode": "data", "type": "terraform_remote_state", "name": "parent", "provider_name": "terraform.io/builtin/terraform", "schema_version": 0, "values": {"backend": "gcs", "config": {"bucket": "opta-tf-state-runx-gcp-live-example", "prefix": "gcp-live-example"}, "defaults": null, "outputs": {"cert_self_link": "https://www.googleapis.com/compute/v1/projects/my-gcp-project/global/sslCertificates/opta-gcp-live-example-7c4e194093ed8736", "delegated": true, "domain": "gcp-example.runx.dev", "k8s_ca_data": "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURLakNDQWhLZ0F3SUJBZ0lRVGNZMDYzVEQxVFZTMWZ2UGc4Z3UzVEFOQmdrcWhraUc5dzBCQVFzRkFEQXYKTVMwd0t3WURWUVFERXlRNU1HTmhNVEE0T1MweVltUmxMVFJrTWpVdE9XRTBaaTAyWlRZeU9XSXhNemN5WXpBdwpIaGNOTWpFd09EQTFNVFkxTXpFMldoY05Nall3T0RBME1UYzFNekUyV2pBdk1TMHdLd1lEVlFRREV5UTVNR05oCk1UQTRPUzB5WW1SbExUUmtNalV0T1dFMFppMDJaVFl5T1dJeE16Y3lZekF3Z2dFaU1BMEdDU3FHU0liM0RRRUIKQVFVQUE0SUJEd0F3Z2dFS0FvSUJBUUNUYXRReGt1WC9sbnVqNzIzb1JSbVBJZExGcXR0dHc3L3JOK2FNQXdoRQo2RUdiVDJiMGJBS3VxbVE5ajRoaWprVWZHRlA4a09FajlQSlpQeDhkQWFlRGlTbkVUaE82dVZuZUpKZnY4c1diCmVmYnJ2djRnYjJYaGxUMmhjdFFmaUluWVRwM2llcXZTbWxweEZhTUQ5SktVektVN3NGSS9tUXkwcnEyT3NzZUsKNE9jYWh0ajZXRkNPMldIUUZCOStaZVFuckRFcmVxOUV3aU5ab1g4eUZHVWV6NzdDSmJWbWpCaVdxN3E1OFYvUwpvMUFQV0phT2FacTQ0Q1YzMTN5MDNMb2JIc1gzcXFzS2RwMHRucDdwd21KcENBeUVyS2F2N21ySHVwZW9yOWdQClZKS09IRkg4VWtwMjc4dlJ4K2VWWDcwUkZ1T2M5eVJsYy9qSzFtZmdYVmFIQWdNQkFBR2pRakJBTUE0R0ExVWQKRHdFQi93UUVBd0lDQkRBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUIwR0ExVWREZ1FXQkJRaWtGWHhkNFl6RHhvcQpjMHBTNHNIZ2g5b3h0akFOQmdrcWhraUc5dzBCQVFzRkFBT0NBUUVBS0NFbEg3UEp3ayt3M1RKOWpCNlZqVWYyClBiSWhXS25WVUkrMnB5MFhyVkxCM0QrUk8yS25hLzVVWUduZFBucHNRb1ZrVVpJOWRlTUprK3oyRmQrdjZYOTIKcWI1MUJxVnNuZXROdkdRYlQ5WVE5Z2gvYTFjcXF6dWN1VE9ydnpoRnpFcW95ZkViV2Y1eEliTTAvYXpEUjVtSQo4dGFyYkhsM1VvUXpzVUk3dXA0bGt0NEowYjVieXVjNWdCMTA3RlA5NGlEeW9Qa2dMSFFTN28wRUhCQzA1VnJBCmFvQVQwR2s2dERTV05pSVc0eDkzSEtMTG9MSDBCaVFqclZSdDNVbEQwQVloelU2b0ZnZXlBWEtWMmNCdjBOWm8KT0EvZVhoaDk0MmZaaEhSbnp2S3FqWUtYMjFuQmtXVEc2aXIrM0VxUzBTQ2c3dHNjSU9QdFAzRGhJTHZXdmc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==", "k8s_cluster_name": "opta-gcp-live-example", "k8s_endpoint": "35.224.63.205", "kms_account_key_id": "projects/my-gcp-project/locations/us-central1/keyRings/opta-gcp-live-example-e71b9f27253ae2db", "kms_account_key_self_link": "projects/my-gcp-project/locations/us-central1/keyRings/opta-gcp-live-example-e71b9f27253ae2db", "load_balancer_raw_ip": "34.117.124.249", "name_servers": ["ns-cloud-c1.googledomains.com.", "ns-cloud-c2.googledomains.com.", "ns-cloud-c3.googledomains.com.", "ns-cloud-c4.googledomains.com."], "private_subnet_id": "https://www.googleapis.com/compute/v1/projects/my-gcp-project/regions/us-central1/subnetworks/opta-gcp-live-example-us-central1-private", "private_subnet_self_link": "https://www.googleapis.com/compute/v1/projects/my-gcp-project/regions/us-central1/subnetworks/opta-gcp-live-example-us-central1-private", "public_nat_ips": [{"address": "35.239.253.45", "address_type": "EXTERNAL", "creation_timestamp": "2021-07-27T12:32:48.747-07:00", "description": "", "id": "projects/my-gcp-project/regions/us-central1/addresses/opta-gcp-live-example-us-central1-0", "name": "opta-gcp-live-example-us-central1-0", "network": "", "network_tier": "PREMIUM", "prefix_length": 0, "project": "my-gcp-project", "purpose": "", "region": "us-central1", "self_link": "https://www.googleapis.com/compute/v1/projects/my-gcp-project/regions/us-central1/addresses/opta-gcp-live-example-us-central1-0", "subnetwork": "", "timeouts": null, "users": ["https://www.googleapis.com/compute/v1/projects/my-gcp-project/regions/us-central1/routers/opta-gcp-live-example"]}, {"address": "35.226.148.149", "address_type": "EXTERNAL", "creation_timestamp": "2021-07-27T12:32:48.752-07:00", "description": "", "id": "projects/my-gcp-project/regions/us-central1/addresses/opta-gcp-live-example-us-central1-1", "name": "opta-gcp-live-example-us-central1-1", "network": "", "network_tier": "PREMIUM", "prefix_length": 0, "project": "my-gcp-project", "purpose": "", "region": "us-central1", "self_link": "https://www.googleapis.com/compute/v1/projects/my-gcp-project/regions/us-central1/addresses/opta-gcp-live-example-us-central1-1", "subnetwork": "", "timeouts": null, "users": ["https://www.googleapis.com/compute/v1/projects/my-gcp-project/regions/us-central1/routers/opta-gcp-live-example"]}], "vpc_id": "projects/my-gcp-project/global/networks/opta-gcp-live-example", "vpc_self_link": "projects/my-gcp-project/global/networks/opta-gcp-live-example", "zone_id": "projects/my-gcp-project/managedZones/opta-gcp-live-example", "zone_name": "opta-gcp-live-example"}, "workspace": null}, "sensitive_values": {"config": {}, "outputs": {"name_servers": [false, false, false, false], "public_nat_ips": [{"users": [false]}, {"users": [false]}]}}}], "child_modules": [{"resources": [{"address": "module.app.data.google_client_config.current", "mode": "data", "type": "google_client_config", "name": "current", "provider_name": "registry.terraform.io/hashicorp/google", "schema_version": 0, "values": {"access_token": "ya29.A0ARrdaM_mCPlp-i-4TkjVoDxBOY1tyWWY0u6TdQ6ZrRtI2EEfTa9_gVtPcRl3-LkyFbnsqxTYqXMgzrS4a_0wAcGYBw3TxCm87h0tfcC3Po95O6KiymnzGt1bawNqR6-4o63mxDLb_Q1XOlfnJDmd6mSSTaVn1V8", "id": "projects/my-gcp-project/regions/us-central1/zones/", "project": "my-gcp-project", "region": "us-central1", "zone": ""}, "sensitive_values": {}}, {"address": "module.app.data.google_container_registry_repository.root", "mode": "data", "type": "google_container_registry_repository", "name": "root", "provider_name": "registry.terraform.io/hashicorp/google", "schema_version": 0, "values": {"id": "gcr.io/my-gcp-project", "project": "my-gcp-project", "region": null, "repository_url": "gcr.io/my-gcp-project"}, "sensitive_values": {}}, {"address": "module.app.google_service_account.k8s_service", "mode": "managed", "type": "google_service_account", "name": "k8s_service", "provider_name": "registry.terraform.io/hashicorp/google", "schema_version": 0, "values": {"account_id": "http-service-app-qjbp", "description": "", "disabled": false, "display_name": "http-service-app-qjbp", "email": "http-service-app-qjbp@my-gcp-project.iam.gserviceaccount.com", "id": "projects/my-gcp-project/serviceAccounts/http-service-app-qjbp@my-gcp-project.iam.gserviceaccount.com", "name": "projects/my-gcp-project/serviceAccounts/http-service-app-qjbp@my-gcp-project.iam.gserviceaccount.com", "project": "my-gcp-project", "timeouts": null, "unique_id": "117259793965710379656"}, "sensitive_values": {}, "depends_on": ["module.app.random_string.suffix"]}, {"address": "module.app.google_service_account_iam_binding.trust_k8s_workload_idu", "mode": "managed", "type": "google_service_account_iam_binding", "name": "trust_k8s_workload_idu", "provider_name": "registry.terraform.io/hashicorp/google", "schema_version": 0, "values": {"condition": [], "etag": "BwXWcDbO+OQ=", "id": "projects/my-gcp-project/serviceAccounts/http-service-app-qjbp@my-gcp-project.iam.gserviceaccount.com/roles/iam.workloadIdentityUser", "members": ["serviceAccount:my-gcp-project.svc.id.goog[http-service/app]"], "role": "roles/iam.workloadIdentityUser", "service_account_id": "projects/my-gcp-project/serviceAccounts/http-service-app-qjbp@my-gcp-project.iam.gserviceaccount.com"}, "sensitive_values": {"condition": [], "members": [false]}, "depends_on": ["module.app.data.google_client_config.current", "module.app.google_service_account.k8s_service", "module.app.random_string.suffix"]}, {"address": "module.app.helm_release.k8s-service", "mode": "managed", "type": "helm_release", "name": "k8s-service", "provider_name": "registry.terraform.io/hashicorp/helm", "schema_version": 0, "values": {"atomic": true, "chart": "../modules/gcp_k8s_service/tf_module/../../opta-k8s-service-helm", "cleanup_on_fail": true, "create_namespace": false, "dependency_update": false, "description": null, "devel": null, "disable_crd_hooks": false, "disable_openapi_validation": false, "disable_webhooks": false, "force_update": false, "id": "http-service-app", "keyring": null, "lint": false, "manifest": null, "max_history": 0, "metadata": [{"app_version": "1.16.0", "chart": "k8s-service", "name": "http-service-app", "namespace": "default", "revision": 9, "values": "{\"autoscaling\":{\"maxReplicas\":\"2\",\"minReplicas\":\"2\",\"targetCPUUtilizationPercentage\":80,\"targetMemoryUtilizationPercentage\":80},\"consistentHash\":null,\"containerResourceLimits\":{\"cpu\":\"200m\",\"memory\":\"256Mi\"},\"containerResourceRequests\":{\"cpu\":\"100m\",\"memory\":\"128Mi\"},\"deployPods\":true,\"deployment_timestamp\":\"2022-02-01T23:24:53Z\",\"envVars\":[{\"name\":\"GUNICORN_CMD_ARGS\",\"value\":\"--bind=0.0.0.0:8000 --workers=3 --capture-output --error-logfile - --access-logfile - --access-logformat '%(h)s %(t)s %(r)s %(s)s Content-Type: %(i)s'\"}],\"environmentName\":\"gcp-live-example\",\"googleServiceAccount\":\"http-service-app-qjbp@my-gcp-project.iam.gserviceaccount.com\",\"httpPort\":{\"name\":\"main\",\"port\":80,\"probeType\":\"http\",\"protocol\":null,\"servicePort\":80,\"tls\":false,\"type\":\"http\"},\"image\":\"kennethreitz/httpbin\",\"ingressExtraAnnotations\":{},\"initialLivenessDelay\":30,\"initialReadinessDelay\":30,\"keepPathPrefix\":false,\"layerName\":\"http-service\",\"linkSecrets\":[],\"livenessProbePath\":\"/get\",\"moduleName\":\"app\",\"persistentStorage\":[],\"ports\":[{\"name\":\"main\",\"port\":80,\"probeType\":\"http\",\"protocol\":null,\"servicePort\":80,\"tls\":false,\"type\":\"http\"}],\"probePort\":{\"name\":\"main\",\"port\":80,\"probeType\":\"http\",\"protocol\":null,\"servicePort\":80,\"tls\":false,\"type\":\"http\"},\"readinessProbePath\":\"/get\",\"serviceAnnotations\":{},\"stickySession\":true,\"stickySessionMaxAge\":20,\"uriComponents\":[{\"domain\":\"gcp-example.runx.dev\",\"pathPrefix\":\"/hello\",\"pathPrefixName\":\"hello\"}],\"version\":\"latest\"}", "version": "0.1.0"}], "name": "http-service-app", "namespace": "default", "postrender": [], "recreate_pods": false, "render_subchart_notes": true, "replace": false, "repository": null, "repository_ca_file": null, "repository_cert_file": null, "repository_key_file": null, "repository_password": null, "repository_username": null, "reset_values": false, "reuse_values": false, "set": [], "set_sensitive": [], "skip_crds": false, "status": "deployed", "timeout": 300, "values": ["\"autoscaling\":\n  \"maxReplicas\": \"2\"\n  \"minReplicas\": \"2\"\n  \"targetCPUUtilizationPercentage\": 80\n  \"targetMemoryUtilizationPercentage\": 80\n\"consistentHash\": null\n\"containerResourceLimits\":\n  \"cpu\": \"200m\"\n  \"memory\": \"256Mi\"\n\"containerResourceRequests\":\n  \"cpu\": \"100m\"\n  \"memory\": \"128Mi\"\n\"deployPods\": true\n\"deployment_timestamp\": \"2022-02-01T23:24:53Z\"\n\"envVars\":\n- \"name\": \"GUNICORN_CMD_ARGS\"\n  \"value\": \"--bind=0.0.0.0:8000 --workers=3 --capture-output --error-logfile - --access-logfile\n    - --access-logformat '%(h)s %(t)s %(r)s %(s)s Content-Type: %(i)s'\"\n\"environmentName\": \"gcp-live-example\"\n\"googleServiceAccount\": \"http-service-app-qjbp@my-gcp-project.iam.gserviceaccount.com\"\n\"httpPort\":\n  \"name\": \"main\"\n  \"port\": 80\n  \"probeType\": \"http\"\n  \"protocol\": null\n  \"servicePort\": 80\n  \"tls\": false\n  \"type\": \"http\"\n\"image\": \"kennethreitz/httpbin\"\n\"ingressExtraAnnotations\": {}\n\"initialLivenessDelay\": 30\n\"initialReadinessDelay\": 30\n\"keepPathPrefix\": false\n\"layerName\": \"http-service\"\n\"linkSecrets\": []\n\"livenessProbePath\": \"/get\"\n\"moduleName\": \"app\"\n\"persistentStorage\": []\n\"ports\":\n- \"name\": \"main\"\n  \"port\": 80\n  \"probeType\": \"http\"\n  \"protocol\": null\n  \"servicePort\": 80\n  \"tls\": false\n  \"type\": \"http\"\n\"probePort\":\n  \"name\": \"main\"\n  \"port\": 80\n  \"probeType\": \"http\"\n  \"protocol\": null\n  \"servicePort\": 80\n  \"tls\": false\n  \"type\": \"http\"\n\"readinessProbePath\": \"/get\"\n\"serviceAnnotations\": {}\n\"stickySession\": true\n\"stickySessionMaxAge\": 20\n\"uriComponents\":\n- \"domain\": \"gcp-example.runx.dev\"\n  \"pathPrefix\": \"/hello\"\n  \"pathPrefixName\": \"hello\"\n\"version\": \"latest\"\n"], "verify": false, "version": "0.1.0", "wait": true, "wait_for_jobs": false}, "sensitive_values": {"metadata": [{}], "postrender": [], "set": [], "set_sensitive": [], "values": [false]}, "depends_on": ["data.google_container_cluster.k8s", "data.terraform_remote_state.parent", "module.app.data.google_container_registry_repository.root", "module.app.google_service_account.k8s_service", "module.app.random_string.suffix"]}, {"address": "module.app.random_string.suffix", "mode": "managed", "type": "random_string", "name": "suffix", "provider_name": "registry.terraform.io/hashicorp/random", "schema_version": 1, "values": {"id": "qjbp", "keepers": null, "length": 4, "lower": true, "min_lower": 0, "min_numeric": 0, "min_special": 0, "min_upper": 0, "number": true, "override_special": null, "result": "qjbp", "special": false, "upper": false}, "sensitive_values": {}}], "address": "module.app"}]}}}, "configuration": {"provider_config": {"google": {"name": "google", "version_constraint": "4.5.0", "expressions": {"project": {"constant_value": "my-gcp-project"}, "region": {"constant_value": "us-central1"}}}, "helm": {"name": "helm", "version_constraint": "2.4.1", "expressions": {"kubernetes": [{"cluster_ca_certificate": {"constant_value": "${base64decode(data.terraform_remote_state.parent.outputs.k8s_ca_data)}", "references": ["data.terraform_remote_state.parent.outputs.k8s_ca_data", "data.terraform_remote_state.parent.outputs", "data.terraform_remote_state.parent"]}, "host": {"constant_value": "https://${data.google_container_cluster.k8s.endpoint}", "references": ["data.google_container_cluster.k8s.endpoint", "data.google_container_cluster.k8s"]}, "token": {"constant_value": "ya29.A0ARrdaM8lrR7DR3LgTeMx4C5mxCCBlYPbKEBQ-wnyljF8N6N1AY5F9jDDBqinCrLaeqaScvKtc74VbzSSbDddLTt9aZC2lq22kiR3TktVC2-kZk9-sStep6H0dyKC-6ppXBEiRBw5YB9ts0vbXZUVguuuFEXlIzc"}}]}}, "module.app:kubernetes": {"name": "kubernetes", "version_constraint": ">= 1.13.3", "module_address": "module.app"}}, "root_module": {"outputs": {"docker_repo_url": {"expression": {"constant_value": "${module.app.docker_repo_url }", "references": ["module.app.docker_repo_url", "module.app"]}}}, "resources": [{"address": "data.google_container_cluster.k8s", "mode": "data", "type": "google_container_cluster", "name": "k8s", "provider_config_key": "google", "expressions": {"location": {"constant_value": "us-central1"}, "name": {"constant_value": "${data.terraform_remote_state.parent.outputs.k8s_cluster_name}", "references": ["data.terraform_remote_state.parent.outputs.k8s_cluster_name", "data.terraform_remote_state.parent.outputs", "data.terraform_remote_state.parent"]}}, "schema_version": 0}, {"address": "data.terraform_remote_state.parent", "mode": "data", "type": "terraform_remote_state", "name": "parent", "provider_config_key": "terraform", "expressions": {"backend": {"constant_value": "gcs"}, "config": {"constant_value": {"bucket": "opta-tf-state-runx-gcp-live-example", "prefix": "gcp-live-example"}}}, "schema_version": 0}], "module_calls": {"app": {"source": "../modules/gcp_k8s_service/tf_module", "expressions": {"additional_iam_roles": {"constant_value": []}, "autoscaling_target_cpu_percentage": {"constant_value": 80}, "autoscaling_target_mem_percentage": {"constant_value": 80}, "consistent_hash": {"constant_value": null}, "digest": {"constant_value": null}, "env_name": {"constant_value": "gcp-live-example"}, "env_vars": {"constant_value": [{"name": "GUNICORN_CMD_ARGS", "value": "--bind=0.0.0.0:8000 --workers=3 --capture-output --error-logfile - --access-logfile - --access-logformat '%(h)s %(t)s %(r)s %(s)s Content-Type: %(i)s'"}]}, "healthcheck_path": {"constant_value": null}, "http_port": {"constant_value": {"name": "main", "port": 80, "probeType": "http", "protocol": null, "servicePort": 80, "tls": false, "type": "http"}}, "image": {"constant_value": "kennethreitz/httpbin"}, "ingress_extra_annotations": {"constant_value": {}}, "initial_liveness_delay": {"constant_value": 30}, "initial_readiness_delay": {"constant_value": 30}, "keep_path_prefix": {"constant_value": false}, "layer_name": {"constant_value": "http-service"}, "link_secrets": {"constant_value": []}, "links": {"constant_value": []}, "liveness_probe_path": {"constant_value": "/get"}, "max_containers": {"constant_value": "2"}, "min_containers": {"constant_value": 2}, "module_name": {"constant_value": "app"}, "persistent_storage": {"constant_value": []}, "ports": {"constant_value": [{"name": "main", "port": 80, "probeType": "http", "protocol": null, "servicePort": 80, "tls": false, "type": "http"}]}, "probe_port": {"constant_value": {"name": "main", "port": 80, "probeType": "http", "protocol": null, "servicePort": 80, "tls": false, "type": "http"}}, "public_uri": {"constant_value": ["${data.terraform_remote_state.parent.outputs.domain}/hello"], "references": ["data.terraform_remote_state.parent.outputs.domain", "data.terraform_remote_state.parent.outputs", "data.terraform_remote_state.parent"]}, "read_buckets": {"constant_value": []}, "readiness_probe_path": {"constant_value": "/get"}, "resource_request": {"constant_value": {"cpu": 100, "memory": 128}}, "secrets": {"constant_value": []}, "sticky_session": {"constant_value": true}, "sticky_session_max_age": {"constant_value": 20}, "tag": {"constant_value": null}, "write_buckets": {"constant_value": []}}, "module": {"outputs": {"docker_repo_url": {"expression": {"references": ["local.uppercase_image", "data.google_container_registry_repository.root.repository_url", "data.google_container_registry_repository.root", "var.layer_name", "var.module_name"]}}}, "resources": [{"address": "google_project_iam_member.project", "mode": "managed", "type": "google_project_iam_member", "name": "project", "provider_config_key": "app:google", "expressions": {"member": {"references": ["google_service_account.k8s_service.email", "google_service_account.k8s_service"]}, "project": {"references": ["data.google_client_config.current.project", "data.google_client_config.current"]}, "role": {"references": ["var.additional_iam_roles", "count.index"]}}, "schema_version": 0, "count_expression": {"references": ["var.additional_iam_roles"]}}, {"address": "google_service_account.k8s_service", "mode": "managed", "type": "google_service_account", "name": "k8s_service", "provider_config_key": "app:google", "expressions": {"account_id": {"references": ["local.layer_short", "local.module_short", "random_string.suffix.result", "random_string.suffix"]}, "display_name": {"references": ["local.layer_short", "local.module_short", "random_string.suffix.result", "random_string.suffix"]}}, "schema_version": 0}, {"address": "google_service_account_iam_binding.trust_k8s_workload_idu", "mode": "managed", "type": "google_service_account_iam_binding", "name": "trust_k8s_workload_idu", "provider_config_key": "app:google", "expressions": {"members": {"references": ["data.google_client_config.current.project", "data.google_client_config.current", "var.layer_name", "var.module_name"]}, "role": {"constant_value": "roles/iam.workloadIdentityUser"}, "service_account_id": {"references": ["google_service_account.k8s_service.name", "google_service_account.k8s_service"]}}, "schema_version": 0}, {"address": "google_storage_bucket_iam_member.bucket_get", "mode": "managed", "type": "google_storage_bucket_iam_member", "name": "bucket_get", "provider_config_key": "app:google", "expressions": {"bucket": {"references": ["each.key"]}, "member": {"references": ["google_service_account.k8s_service.email", "google_service_account.k8s_service"]}, "role": {"constant_value": "roles/storage.legacyBucketReader"}}, "schema_version": 0, "for_each_expression": {"references": ["local.get_buckets"]}}, {"address": "google_storage_bucket_iam_member.bucket_viewer", "mode": "managed", "type": "google_storage_bucket_iam_member", "name": "bucket_viewer", "provider_config_key": "app:google", "expressions": {"bucket": {"references": ["var.read_buckets", "count.index"]}, "member": {"references": ["google_service_account.k8s_service.email", "google_service_account.k8s_service"]}, "role": {"constant_value": "roles/storage.objectViewer"}}, "schema_version": 0, "count_expression": {"references": ["var.read_buckets"]}}, {"address": "google_storage_bucket_iam_member.viewer", "mode": "managed", "type": "google_storage_bucket_iam_member", "name": "viewer", "provider_config_key": "app:google", "expressions": {"bucket": {"references": ["var.write_buckets", "count.index"]}, "member": {"references": ["google_service_account.k8s_service.email", "google_service_account.k8s_service"]}, "role": {"constant_value": "roles/storage.objectAdmin"}}, "schema_version": 0, "count_expression": {"references": ["var.write_buckets"]}}, {"address": "helm_release.k8s-service", "mode": "managed", "type": "helm_release", "name": "k8s-service", "provider_config_key": "app:helm", "expressions": {"atomic": {"constant_value": true}, "chart": {"references": ["path.module"]}, "cleanup_on_fail": {"constant_value": true}, "name": {"references": ["var.layer_name", "var.module_name"]}, "values": {"references": ["var.min_containers", "var.max_containers", "var.autoscaling_target_cpu_percentage", "var.autoscaling_target_mem_percentage", "var.http_port", "var.probe_port", "var.ports", "var.service_annotations", "var.resource_request[\"cpu\"]", "var.resource_request", "var.resource_request[\"memory\"]", "var.resource_request", "var.resource_request[\"cpu\"]", "var.resource_request", "var.resource_request[\"memory\"]", "var.resource_request", "local.uppercase_image", "var.tag", "var.digest", "local.uppercase_image", "var.digest", "data.google_container_registry_repository.root.repository_url", "data.google_container_registry_repository.root", "var.layer_name", "var.module_name", "var.digest", "var.tag", "data.google_container_registry_repository.root.repository_url", "data.google_container_registry_repository.root", "var.layer_name", "var.module_name", "var.tag", "var.tag", "var.image", "var.image", "var.tag", "var.tag", "var.tag", "var.healthcheck_path", "var.liveness_probe_path", "var.liveness_probe_path", "var.healthcheck_path", "var.initial_liveness_delay", "var.healthcheck_path", "var.readiness_probe_path", "var.readiness_probe_path", "var.healthcheck_path", "var.initial_readiness_delay", "var.env_vars", "var.link_secrets", "local.uri_components", "var.layer_name", "var.module_name", "var.env_name", "google_service_account.k8s_service.email", "google_service_account.k8s_service", "var.sticky_session", "var.sticky_session_max_age", "var.consistent_hash", "var.keep_path_prefix", "var.persistent_storage", "var.ingress_extra_annotations"]}}, "schema_version": 0}, {"address": "random_string.suffix", "mode": "managed", "type": "random_string", "name": "suffix", "provider_config_key": "app:random", "expressions": {"length": {"constant_value": 4}, "special": {"constant_value": false}, "upper": {"constant_value": false}}, "schema_version": 1}, {"address": "data.google_client_config.current", "mode": "data", "type": "google_client_config", "name": "current", "provider_config_key": "app:google", "schema_version": 0}, {"address": "data.google_container_registry_repository.root", "mode": "data", "type": "google_container_registry_repository", "name": "root", "provider_config_key": "app:google", "schema_version": 0}], "variables": {"additional_iam_roles": {"default": []}, "autoscaling_target_cpu_percentage": {"default": 80, "description": "Percentage of requested cpu after which autoscaling kicks in"}, "autoscaling_target_mem_percentage": {"default": 80, "description": "Percentage of requested memory after which autoscaling kicks in"}, "consistent_hash": {"default": null}, "digest": {"default": null, "description": "Digest of image to be deployed"}, "domain": {"default": ""}, "env_name": {"description": "Env name"}, "env_vars": {"default": [], "description": "Environment variables to pass to the container"}, "healthcheck_path": {"default": null}, "http_port": {"default": null, "description": "The port that exposes an HTTP interface"}, "image": {"description": "External Image to be deployed"}, "ingress_extra_annotations": {"default": {}}, "initial_liveness_delay": {"default": 30}, "initial_readiness_delay": {"default": 30}, "keep_path_prefix": {"default": false}, "layer_name": {"description": "Layer name"}, "link_secrets": {"default": []}, "links": {"default": null}, "liveness_probe_path": {"default": null, "description": "Url path for liveness probe"}, "max_containers": {"default": "3", "description": "Max value for HPA autoscaling"}, "min_containers": {"default": "1", "description": "Min value for HPA autoscaling"}, "module_name": {"description": "Module name"}, "persistent_storage": {"default": []}, "ports": {"description": "Ports to be exposed"}, "probe_port": {"default": null, "description": "The port that is used for health probes"}, "public_uri": {"default": []}, "read_buckets": {"default": []}, "readiness_probe_path": {"default": null, "description": "Url path for readiness probe"}, "resource_request": {"default": {"cpu": 100, "memory": 128}}, "secrets": {"default": null}, "service_annotations": {"default": {}, "description": "Annotations to add to the service resource"}, "sticky_session": {"default": false}, "sticky_session_max_age": {"default": 86400}, "tag": {"default": null, "description": "Tag of image to be deployed"}, "write_buckets": {"default": []}}}}}}}}